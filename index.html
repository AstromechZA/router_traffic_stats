<!DOCTYPE html>
<html>
    <head>
        <title>Traffic Graph</title>
    </head>
    <body>

        <div id="GraphContainer"></div>

        <script src="http://code.jquery.com/jquery-1.11.0.min.js"></script>
        <script src="http://code.highcharts.com/stock/highstock.js"></script>
        <script src="tick.min.js"></script>
        <script src="traffic.js"></script>
        <script type="text/javascript">

            $(document).ready(function(){
                var traffic_data_c = traffic_data || []

                total_traffic_data = []
                download_traffic_data = []
                upload_traffic_data = []
                for (var i = 0; i < traffic_data_c.length; i++) {
                    dt = tick(traffic_data_c[i][0]*1000)
                    total_traffic_data.push({
                        x: dt.valueOf(),
                        y: traffic_data_c[i][1][2]
                    })
                    download_traffic_data.push({
                        x: dt.valueOf(),
                        y: traffic_data_c[i][1][1]
                    })
                    upload_traffic_data.push({
                        x: dt.valueOf(),
                        y: traffic_data_c[i][1][0]
                    })
                };

                Highcharts.setOptions({
                    global: {
                        useUTC: false
                    }
                })

                $('#GraphContainer').highcharts('StockChart', {
                    title : {
                        text : 'Network Totals'
                    },

                    xAxis: {
                        ordinal: false
                    },

                    series : [{
                        name : 'Total traffic',
                        data : total_traffic_data,
                        type : 'spline',
                        tooltip : {
                            valueDecimals : 2
                        },
                        color: 'rgb(0, 162, 232)',
                    },{
                        name : 'Download traffic',
                        data : download_traffic_data,
                        type : 'spline',
                        tooltip : {
                            valueDecimals : 2
                        },
                        color: 'rgb(1, 231, 116)',
                    },{
                        name : 'Upload traffic',
                        data : upload_traffic_data,
                        type : 'spline',
                        tooltip : {
                            valueDecimals : 2
                        },
                        color: 'rgb(215, 57, 53)',
                    }]
                });




            });

        </script>
    </body>
</html>